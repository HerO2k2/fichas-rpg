<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>FICHA DE PERSONAGEM ‚Äî ARQUIVO CONFIDENCIAL</title>

<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

<style>
body{
    background:
        radial-gradient(circle at top, #1a1f2e 0%, #0b0e16 55%, #05070c 100%);
    color:#d8dcec;
    font-family:'VT323', monospace;
    margin:20px;
    font-size:20px;
}

h1,h2{
    color:#9da8ff;
    border-bottom:2px solid #3c4270;
    margin-top:30px;
    text-shadow:0 0 6px rgba(120,130,255,.4);
}

.section{
    background:linear-gradient(135deg,#0f1322,#0a0d18);
    padding:15px;
    border:2px solid #2f3563;
    margin-bottom:20px;
    box-shadow: inset 0 0 25px rgba(0,0,0,.9),
                0 0 12px rgba(70,80,160,.25);
}

input, textarea{
    background:#0a0e1b;
    color:#e6ebff;
    border:2px solid #3c4270;
    padding:4px;
    font-family:'VT323', monospace;
    font-size:18px;
}

.inline{
    display:flex;
    gap:10px;
}

.status-grid{
    display:grid;
    grid-template-columns: repeat(3,1fr);
    gap:12px;
}

.stat{
    text-align:center;
}

.stat input{
    width:70px;
    text-align:center;
}

/* CORES */
.pv{color:#ff5b5b;}
.pe{color:#4b86ff;}
.for{color:#ffb84b;}
.agi{color:#4bff9a;}
.int{color:#ffffff;}
.pre{color:#c78cff;}

/* GR√ÅFICO */
.bar{
    height:14px;
    background:#0a0d18;
    border:1px solid #3c4270;
    margin-bottom:6px;
}
.bar span{display:block;height:100%;width:0;}
.bar-for span{background:#ffb84b;}
.bar-agi span{background:#4bff9a;}
.bar-int span{background:#ffffff;}
.bar-pre span{background:#c78cff;}

/* PER√çCIAS */
.pericias-grid{
    display:grid;
    grid-template-rows:auto auto;
    gap:25px;
}

.pericias-row{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:30px;
}

.pericia{
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:1px dotted #3c4270;
    gap:8px;
}

.pericia .nome{
    flex:1;
}

.pericia input{
    width:60px;
    text-align:center;
}

/* Desvantagem em vermelho no meio */
.desvantagem{
    color:#ff4b4b;
    font-weight:bold;
    white-space: nowrap;
}

textarea{
    min-height:140px;
}
</style>
</head>

<body>

<h1>üìÅ FICHA DE PERSONAGEM ‚Äî ACESSO RESTRITO</h1>

<div class="section">
<h2>Perfil</h2>
<label>N√≠vel <input data-save></label>
<label>Ancestral <input data-save></label>
<label>Profiss√£o <input data-save></label>
</div>

<div class="section">
<h2>Caracter√≠sticas</h2>
<label>Nome <input data-save></label>
<label>Idade <input data-save></label>
<div class="inline">
<label>Altura <input data-save></label>
<label>Peso <input data-save></label>
</div>
<div class="inline">
<label>Nacionalidade <input data-save></label>
<label>Nascido <input data-save></label>
</div>
</div>

<div class="section">
<h2>Status</h2>
<div class="status-grid">
  <div class="stat pv">‚ù§Ô∏è PV<br><input type="number" min="0" max="999" data-save></div>
  <div class="stat for">üí™ FOR<br><input type="number" min="0" max="5" data-save data-bar="for"></div>
  <div class="stat int">üß† INT<br><input type="number" min="0" max="5" data-save data-bar="int"></div>
  <div class="stat pe">üîã PE<br><input type="number" min="0" max="999" data-save></div>
  <div class="stat agi">üèÉ AGI<br><input type="number" min="0" max="5" data-save data-bar="agi"></div>
  <div class="stat pre">üéØ PRE<br><input type="number" min="0" max="5" data-save data-bar="pre"></div>
</div>

<h3>Distribui√ß√£o de Atributos</h3>
<div id="bars"></div>
</div>

<div class="section">
<h2>Defesas</h2>
<div class="inline">
<label>Impacto <input data-save></label>
<label>Queimadura <input data-save></label>
</div>
<div class="inline">
<label>Perfura√ß√£o <input data-save></label>
<label>Ocultismo <input data-save></label>
</div>
<div class="inline">
<label>Corte <input data-save></label>
<label>Ritual <input data-save></label>
</div>
</div>

<div class="section">
<h2>Per√≠cias</h2>

<div class="pericias-grid">

<!-- FOR | AGI -->
<div class="pericias-row">
<div>
<div class="pericia for"><span class="nome">FORTITUDE (FOR)</span><input data-save></div>
<div class="pericia for"><span class="nome">LUTA (FOR)</span><input data-save></div>
<div class="pericia for"><span class="nome">ATLETISMO (FOR)</span><input data-save></div>
<div class="pericia for"><span class="nome">ARREMESSO (FOR)</span><input data-save></div>
<div class="pericia for"><span class="nome">T√ÅTICA (FOR)</span><input data-save></div>
</div>

<div>
<div class="pericia agi"><span class="nome">CORTE (AGI)</span><input data-save></div>
<div class="pericia agi"><span class="nome">ACROBACIA (AGI)</span><input data-save></div>
<div class="pericia agi"><span class="nome">PONTARIA (AGI)</span><input data-save></div>
<div class="pericia agi"><span class="nome">SOBREVIV√äNCIA (AGI)</span><input data-save></div>
<div class="pericia agi"><span class="nome">REFLEXO (AGI)</span><input data-save></div>
<div class="pericia agi"><span class="nome">FURTIVIDADE (AGI)</span><input data-save></div>
</div>
</div>

<!-- PRE | INT -->
<div class="pericias-row">
<div>
<div class="pericia pre"><span class="nome">VONTADE (PRE)</span><input data-save></div>
<div class="pericia pre"><span class="nome">ADESTRAMENTO (PRE)</span><input data-save></div>
<div class="pericia pre"><span class="nome">INTIMIDA√á√ÉO (PRE)</span><input data-save></div>
<div class="pericia pre"><span class="nome">PERSUAS√ÉO (PRE)</span><input data-save></div>
</div>

<div>
<div class="pericia int"><span class="nome">ARTES (INT)</span><input data-save></div>
<div class="pericia int"><span class="nome">CI√äNCIAS (INT)</span><input data-save></div>
<div class="pericia int"><span class="nome">PERCEP√á√ÉO (INT)</span><input data-save></div>
<div class="pericia int"><span class="nome">RITUAL (INT)</span><input data-save></div>
<div class="pericia int"><span class="nome">OCULTISMO (INT)</span><input data-save></div>
<div class="pericia int"><span class="nome">RELIGI√ÉO (INT)</span><input data-save></div>
<div class="pericia int"><span class="nome">PESQUISA (INT)</span><input data-save></div>
<div class="pericia int"><span class="nome">MEDICINA (INT)</span><input data-save></div>
<div class="pericia int"><span class="nome">DIRE√á√ÉO (INT)</span><input data-save></div>
<div class="pericia int"><span class="nome">ATUALIDADES (INT)</span><input data-save></div>
</div>
</div>

</div>
</div>

<div class="section">
<h2>Invent√°rio</h2>
<textarea data-save></textarea>
</div>

<script>
const inputs=document.querySelectorAll("[data-save]");
const bars=document.getElementById("bars");

inputs.forEach((el,i)=>{
 const k="ficha_"+i;
 el.value=localStorage.getItem(k)||"";
 el.oninput=()=>{
    localStorage.setItem(k,el.value);
    renderBars();
    aplicarDesvantagem();
 }
});

function renderBars(){
 bars.innerHTML="";
 document.querySelectorAll("[data-bar]").forEach(el=>{
  let v=Math.min(5,Math.max(0,el.value||0));
  let b=document.createElement("div");
  b.className="bar bar-"+el.dataset.bar;
  b.innerHTML=`<span style="width:${v*20}%"></span>`;
  bars.appendChild(b);
 });
}

// Fun√ß√£o para aplicar Desvantagem
function aplicarDesvantagem(){
 const forValue = Number(document.querySelector(".stat.for input").value) || 0;
 const agiValue = Number(document.querySelector(".stat.agi input").value) || 0;
 const intValue = Number(document.querySelector(".stat.int input").value) || 0;
 const preValue = Number(document.querySelector(".stat.pre input").value) || 0;
 const peValue = Number(document.querySelector(".stat.pe input").value) || 0;

 const pericias = document.querySelectorAll(".pericia");
 pericias.forEach(p=>{
    // Remove desvantagem anterior
    p.querySelectorAll(".desvantagem").forEach(d=>d.remove());

    // Se PE = 0, todas per√≠cias recebem Desvantagem
    if(peValue===0){
        let span = document.createElement("span");
        span.className="desvantagem";
        span.textContent="Desvantagem";
        p.insertBefore(span, p.querySelector("input"));
    } else {
        if((p.classList.contains("for") && forValue===0) ||
           (p.classList.contains("agi") && agiValue===0) ||
           (p.classList.contains("int") && intValue===0) ||
           (p.classList.contains("pre") && preValue===0)){
            let span = document.createElement("span");
            span.className="desvantagem";
            span.textContent="Desvantagem";
            p.insertBefore(span, p.querySelector("input"));
        }
    }
});
}

renderBars();
aplicarDesvantagem();
</script>

</body>
</html>


